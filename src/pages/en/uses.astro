---
import Layout from "../../layouts/Layout.astro";
import NavigationBar from "../../components/navigationBar/navigationBar.astro";
import Body from "../../components/Body.astro";
import Content from "../../components/Content.astro";
import Footer from "../../layouts/footer.astro";
import EquipmentPost from "../../components/projects/equipmentPost";
import { getCollection } from 'astro:content';

const uses = await getCollection('uses', ({ id }) => {
  return id.startsWith('en/');
});
interface Frontmatter {
  title: string;
  link: string;
  thumbnail?: string;
  description?: string;
}
// const uses = await Astro.glob<Frontmatter>("./content/uses/*.md");
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <Layout title="NoÃ© Rivera - Projects" />
  </head>

  <Body>
    <NavigationBar />

    <section class="relative mb-6 h-80 flex justify-center items-center">
      <div class="absolute w-full h-full overflow-hidden mt-28 mb-10">
        <video
          class="absolute inset-0 min-w-full min-h-full object-cover opacity-30"
          autoplay="autoplay"
          muted="muted"
          loop="loop"
          playsinline
          > 
         <source
            src={'/assets/video' + '/TEST1PF.mp4'}
            type="video/mp4"
          />
          <source
            src={'/assets/video' + '/TEST1PF.mp4'}
            type="video/mp4"
          /> 
        </video>
      </div>
      <div class="z-10 text-center px-8 drop-shadow-lg shadow-black">
        <div class="uppercase text-sm mb-4"></div>
        <div class="text-4xl font-mplus font-medium mb-5">
          <span class="text-cyaned-500">What I use</span>
        </div>
        <span class=""
          >A list of the equipment that I use in everyday work</span
        >
      </div>
    </section>
    <Content>

      <main class="">
        <section class="p-10 mt-20 md:p-0 sm:p-20">
          <p class="mt-10 mb-10">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quaerat molestias unde consequuntur eum facere sint, facilis, nam ipsa maxime deleniti possimus illum repudiandae, neque rem dicta sunt in eligendi magni!</p>
          <ul class="grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 gap-10">
            {
              uses.map((eq) => (
                <li>
                  <a href={eq.slug}>
                    <EquipmentPost
                      title={eq.data.title}
                      url={eq.slug}
                      thumbnail={eq.data.thumbnail}
                    >
                      <span class="text-gray-400">
                        {eq.data.description}
                      </span>
                    </EquipmentPost>
                  </a>
                </li>
              ))
            }
          </ul>
        </section>
      </main>
      <Footer />
    </Content>
  </Body>
</html>
